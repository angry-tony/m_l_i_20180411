classes:
# Docker
- system.docker.host
# Keepalived
- system.keepalived.cluster.instance.stacklight_monitor_vip
- system.salt.minion.cert.proxy.cicd
- system.linux.system.repo.mcp.apt_mirantis.docker
- system.linux.system.repo.mcp.apt_mirantis.glusterfs
- system.linux.system.repo.mcp.apt_mirantis.ubuntu
- system.linux.system.repo.mcp.extra

- system.glusterfs.client.cluster
- system.glusterfs.server.cluster
- system.haproxy.proxy.single

# DevOps Portal
- system.glusterfs.client.volume.devops_portal
- system.glusterfs.server.volume.devops_portal
- system.haproxy.proxy.listen.oss.devops_portal
# PostgreSQL
- system.glusterfs.client.volume.postgresql
- system.glusterfs.server.volume.postgresql
- system.haproxy.proxy.listen.oss.postgresql
# Pushkin
- system.glusterfs.client.volume.pushkin
- system.glusterfs.server.volume.pushkin
- system.haproxy.proxy.listen.oss.pushkin
# HCE
- system.haproxy.proxy.listen.oss.hce

# Rundeck
- system.glusterfs.client.volume.rundeck
- system.glusterfs.server.volume.rundeck
- system.haproxy.proxy.listen.oss.rundeck
# SecurityMonkey
- system.glusterfs.client.volume.security_monkey
- system.glusterfs.server.volume.security_monkey
- system.haproxy.proxy.listen.oss.security_monkey
# JanitorMonkey
- system.glusterfs.client.volume.mongodb
- system.glusterfs.server.volume.mongodb
- system.haproxy.proxy.listen.oss.janitor_monkey
- system.haproxy.proxy.listen.oss.mongodb
- cluster.deployment_name.infra

# Rundeck
- system.rundeck.client.runbook


parameters:
  _param:

    glusterfs_service_host: ${_param:stacklight_monitor_address}
    glusterfs_node01_address: ${_param:oss_node01_address}
    glusterfs_node02_address: ${_param:oss_node02_address}
    glusterfs_node03_address: ${_param:oss_node03_address}

    haproxy_gerrit_bind_host: ${_param:cicd_control_address}
    haproxy_gerrit_bind_port: 8080
    haproxy_gerrit_ssl:
      enabled: false

    haproxy_jenkins_ssl:
      enabled: false
    haproxy_jenkins_bind_host: ${_param:cicd_control_address}
    haproxy_jenkins_bind_port: 8081
    haproxy_kibana_bind_host: ${_param:cluster_vip_address}
    haproxy_kibana_bind_port: ${_param:cluster_kibana_port}
    haproxy_kibana_ssl:
      enabled: false

    elasticsearch_ssl:
      enabled: false

    rundeck_runbook_public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCVSYNYKIqnBhDxXH+hZT1vkkADD2TkpXcfbgKMqq2SyWjKKiHFuy92D38S91KGHC/aP3eLBz0GdNFozuS36AIa2WOlr6Y2UpwUUaieKYvJ2UrOp0Tpr2rL1fOmsvWQ8JaraLfDm99rLkM+l4dLvspZROhV4/8iPhaYpmpCPa0MtHHaZY40jggo3ViQja2nZodFQEwkcD0B9aBOb2J1xi6LUAWLD02YUQegX18FjVz0VVYsa9ipK6d1+nfIMqelduEbGGp2z3WeJxkSpI3XXnToRETgPmVy8hvhX54brfNqNcL6yt9EYF0GdcXeL+b0SxX4YKyG6nSSSLSESTYxexmR
    rundeck_runbook_private_key: |
      -----BEGIN RSA PRIVATE KEY-----
      MIIEowIBAAKCAQEAlUmDWCiKpwYQ8Vx/oWU9b5JAAw9k5KV3H24CjKqtksloyioh
      xbsvdg9/EvdShhwv2j93iwc9BnTRaM7kt+gCGtljpa+mNlKcFFGonimLydlKzqdE
      6a9qy9XzprL1kPCWq2i3w5vfay5DPpeHS77KWUToVeP/Ij4WmKZqQj2tDLRx2mWO
      NI4IKN1YkI2tp2aHRUBMJHA9AfWgTm9idcYui1AFiw9NmFEHoF9fBY1c9FVWLGvY
      qSundfp3yDKnpXbhGxhqds91nicZEqSN11506ERE4D5lcvIb4V+eG63zajXC+srf
      RGBdBnXF3i/m9EsV+GCshup0kki0hEk2MXsZkQIDAQABAoIBAQCEorracbK2sLIO
      72LKD3vlC+hpj5zRdJ2AxCnptp7egqnirEozNpr1ZtE9FZYxZwuw+aCJWlYCzXlc
      iC03pB9yoWBiTcv8Cat4dhC87SawoKlRL9YPVXYqQh3nJqr9KnSDOFfEqFF5FbJT
      AygGyS1Y4NsXrKj6UHWdDIXt8oQ0eyYjaTFiQthWQ4y/9VP5eis8BQnVlAld8Lo6
      9sz1qHUWQK0acAU0XW0rpVk+uG1I6eM4ngZ67YwS59MfeUpQzLl5LRtCBbV84uIX
      Ltg4jdN5zRNySxQ1m6IGSkfXCiDrPNpZ+LJu38+P80iwDT2QT2gFEh6FJJTiTWmy
      VrNncpctAoGBAMVN2eKnMX5VcbPar8dpBoATLLK8sy0g2BG3g2Hy9Qmv+WBG/bRH
      RMOPG7Xi/2mQWPNN/4c8WVWuCY3kZP86dMEelBC13ntZZWE3NyIG2XsSK2pbX+9N
      TvfZp3H/3UXHfi+ydvlNRvvaarLEnktJFmZ6kdGc+KU3DYaQkY43FzUfAoGBAMGy
      0iBWMk550q1lVY2CGpgWsqRYeoG6otj3yq48VV42JqafumzKabMkeH/UKREQ5yDM
      k4fho4Nt/wSLiAISoeHqdAmQVBMMrTeOQSMP/iQsNMi08p8+R+QnChNin08mwICQ
      CSwSF9We/h+1Mw6KVAk+4ivPU8LrP7L+aZ0OaqtPAoGAOLjl7/QzFWfJFXTEXibC
      eKWKjyQSuuGbXJSOj+VCLvPJVLV0EJUAntwQklzdIuMdv2zoDl/6Ktiq5IEJzBpp
      IHADDz7J5FpR+/3cusqPUYNqudvlG631Cuom6m4tlfcBPwMmkwt1YchsLlK6U1iC
      uRl5vHJNRWorWElNnz4VTO8CgYAFqnJlCcBs9TlJYyZufjjC7B8LmZ7zvn7W8+CU
      2iTxHYph41gzqHQRDmcL7ivJWQI5vmIuXlZHGOeVvXMcBGmBzzbXtMYQzJUgg+O5
      39TiP/zHRiu2pr65mL69tGvOh+annA74oArcb8slKEq3CSrOHm3FNEpR8Emrta9n
      La3HFwKBgEbd5xlLHliqlGUVaaFAx153emsGR2RPyI3ELxyTPCK5NoAO8YYkFwsu
      adKE+0WRP6khgT333784Yo0HgX3HMYCFSUpa3DTUdhTfZmUB9OCzp04rjyCjumut
      oSUoJrhccAfEsRTQ2TCQiuM0MOTQCpbp/hvP8PhdiHB29X426ZY1
      -----END RSA PRIVATE KEY-----
